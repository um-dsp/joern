var projectFiles={el:"projectFiles",itemType:"file",url:"managefile.php?action=projectFiles",dependencies:[]};function loadFolder(a,b){var c=a.$get("url");Vue.set(a,"url",c+"&folder="+b);updateView(a)}function selectFolder(a){var b=cssId("folderparent").options;for(i=0;i<b.length;i++)b[i].value==a&&(b[i].selected="selected");b=cssId("upfolder").options;for(i=0;i<b.length;i++)b[i].value==a&&(b[i].selected="selected")}
function changeFileview(a,b){"grid"==a?window.location="managefile.php?action=showproject&id="+b:"list"==a&&(window.location="managefile.php?action=showproject&viewmode=list&id="+b)}
function handleDrop(a){a.stopPropagation();a.preventDefault();var b=a.target.getAttribute("data-folderid");a=a.dataTransfer.getData("text/plain");document.getElementById("fli_"+a).style.display="none";change("managefile.php?action=movefile&id=100&file="+a+"&target="+b,"jslog");console.log("droped");console.log("fileid "+a+"folder "+b)}
function handleDragStart(a){console.log("drag start");a.dataTransfer.effectAllowed="move";var b=a.target,c=b.getAttribute("data-fileid");a.dataTransfer.setData("text/plain",c);b.style.opacity="0.4"}function handleDragOver(a){a.preventDefault&&a.preventDefault();a.dataTransfer.dropEffect="move";return!1}function handleDragEnter(a){var b=a.target;a=a.dataTransfer.getData("text/plain");document.getElementById("iw_"+a);b.classList.add("dragover")}
function handleDragLeave(a){a.target.classList.remove("dragover")}var basicImgPath="templates/standard/theme/standard/images/symbols/";function renderFolders(a,b){if(0<b.length){console.log(b);for(var c=0;c<b.length;c++){var d=b[c];!1!==d.subfolders&&renderFolders(a,d.subfolders);a.add("fo"+d.ID,"fo"+d.parent,d.name,"javascript:alert('bla')","","",basicImgPath+"folder.png",basicImgPath+"folder.png","",0)}}}
function renderFiles(a,b,c){if(0<b.length)for(c=0;c<b.length;c++){var d=b[c];console.log(d.folder);a.add("fi"+d.ID,"fo"+d.folder,d.name,"managefile.php?action=downloadfile&amp;id="+d.project+"&amp;file="+d.ID,"","",basicImgPath+"files.png",basicImgPath+"files.png","",0)}}
function renderFilesTree(a){var b=a.items;if(void 0!=b){var c=new dTree("filesTree");c.add(0,-1,"");a=b.files;b=b.folders;c.add("fo0",0,"Root folder","managefile.php?action=downloadfile&amp;id=&amp;file=","","",basicImgPath+"folder.png",basicImgPath+"folder.png","",0);renderFolders(c,b);renderFiles(c,a,0)}cssId("filesTree").innerHTML=c;window.filesTree=c;window.filesTree.openAll()};
